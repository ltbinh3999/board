(this.webpackJsonpboard=this.webpackJsonpboard||[]).push([[0],{18:function(t,e,s){},26:function(t,e,s){},27:function(t,e,s){"use strict";s.r(e);var i=s(0),n=s.n(i),a=s(5),d=s.n(a),c=(s(18),s(2)),l=s(13),r=s(3);var o=n.a.createContext({lists:new Map,tasks:new Map,taskIdC:0,listIdC:0}),u=o.Provider,b=s(4),j=s(1);function p(t){var e=t.id,s=t.depth,n=t.index,a=t.setF,d=t.listId,l=Object(i.useContext)(o).tasks.get(e),r=null===l||void 0===l?void 0:l.subTasks.map((function(t,e){return Object(j.jsx)(p,{id:t,depth:s+1,index:e,setF:a,listId:d},t)}));return 0===s?Object(j.jsx)(b.b,{draggableId:e,index:n,children:function(t){return Object(j.jsx)("div",Object(c.a)(Object(c.a)(Object(c.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(j.jsxs)("div",{style:{border:"1px solid black ",padding:"5px",marginTop:"1vh",cursor:"pointer"},onClick:function(){a.setTaskId(e),a.setListId(d)},children:[null===l||void 0===l?void 0:l.name,r]})}))}}):Object(j.jsxs)("div",{style:{marginLeft:10*s},children:[null===l||void 0===l?void 0:l.name,r]})}s(26);function v(t){var e,s,n=t.id,a=t.index,d=t.setF,l=Object(i.useContext)(o),r=null===(e=l.lists.get(n))||void 0===e?void 0:e.name,u=null===(s=l.lists.get(n))||void 0===s?void 0:s.taskIds.length;return Object(j.jsx)(b.b,{draggableId:n,index:a,children:function(t){return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},t.draggableProps),{},{ref:t.innerRef,children:Object(j.jsxs)("div",{style:{margin:"0 1vw 0 1vw"},children:[Object(j.jsxs)("div",Object(c.a)(Object(c.a)({},t.dragHandleProps),{},{style:{width:"15vw",height:"2vh",cursor:"pointer",display:"flex",justifyContent:"space-between"},onClick:function(){d.setListId(n),d.setIsList(!0)},children:[Object(j.jsx)("span",{children:r}),Object(j.jsx)("span",{children:u})]})),Object(j.jsx)(b.c,{droppableId:n,children:function(t){var e;return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},t.droppableProps),{},{ref:t.innerRef,children:Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[null===(e=l.lists.get(n))||void 0===e?void 0:e.taskIds.map((function(t,e){return Object(j.jsx)(p,{id:t,depth:0,index:e,setF:d,listId:n},t)})),t.placeholder,Object(j.jsx)("div",{className:"AddTaskButton",onClick:function(){d.setTaskId(l.taskIdC),d.setListId(n),d.setIsAdd(!0)},children:Object(j.jsx)("img",{src:"add.png",alt:"add button",style:{height:"1em",width:"1em",display:"block",margin:"1vh auto 0 auto"}})})]})}))}})]})}))}})}function f(t){var e=t.id,s=t.setF,n=Object(i.useContext)(o).tasks.get(e),a=Object(i.useState)(n||{name:"",subTasks:[]}),d=Object(r.a)(a,2),l=d[0],u=d[1],b=function(){s.taskF(e,l),s.setTaskId(""),s.setListId(""),s.setIsAdd(!1)};return Object(j.jsxs)("div",{style:{backgroundColor:"lightgray",width:"50vw",height:"50vh",position:"fixed",top:"50vh",left:"50vw",margin:"-25vh 0 0 -25vw"},children:[Object(j.jsx)("input",{type:"image",src:"close.png",style:{height:"1em",display:"block",margin:"0 0 0 auto"},onClick:function(){b()}}),Object(j.jsx)("input",{type:"text",value:l.name,onChange:function(t){var e=Object(c.a)({},l);e.name=t.target.value,u(e)},onKeyPress:function(t){"Enter"===t.key&&b()}}),n&&Object(j.jsx)("button",{onClick:function(){s.taskF(e),s.setTaskId("")},children:"DELETE"})]})}function O(t){var e=t.id,s=t.setF,n=Object(i.useContext)(o).lists.get(e),a=Object(i.useState)(n||{id:"",name:"",taskIds:[]}),d=Object(r.a)(a,2),l=d[0],u=d[1],b=function(){s.listF(e,l),s.setIsList(!1)};return Object(j.jsxs)("div",{style:{backgroundColor:"lightgray",width:"50vw",height:"50vh",position:"fixed",top:"50vh",left:"50vw",margin:"-25vh 0 0 -25vw"},children:[Object(j.jsx)("input",{type:"image",src:"close.png",style:{height:"1em",display:"block",margin:"0 0 0 auto"},onClick:function(){b()}}),Object(j.jsx)("input",{type:"text",value:l.name,onChange:function(t){var e=Object(c.a)({},l);e.name=t.target.value,u(e)},onKeyPress:function(t){"Enter"===t.key&&b()}}),n&&Object(j.jsx)("button",{onClick:function(){s.setIsList(!1),s.listF(e)},children:"DELETE"})]})}function I(t){t.boardId;Object(i.useEffect)((function(){var t=function(t){var e=function(t,e){var s;null===(s=i.get(t))||void 0===s||s.subTasks.push(e)},s=Array.from(Array(15).keys()).map((function(t){return{id:t.toString(),name:"task".concat(t),subTasks:[]}})),i=new Map;s.forEach((function(t){i.set(t.id,t)})),e("0","1"),e("0","2"),e("0","3"),e("1","4"),e("1","5"),e("6","7");var n=new Map;return n.set("l0",{id:"l0",name:"List 0",taskIds:["0","9","10","11"]}),n.set("l1",{id:"l1",name:"List 1",taskIds:["6","8"]}),n.set("l2",{id:"l2",name:"List 2",taskIds:["12","13","14"]}),{id:"b1",name:"Board 1",listIds:["l0","l1","l2"],tasks:i,lists:n,taskIdC:i.size,listIdC:n.size}}(),e=(t.name,t.lists),s=t.tasks,i=t.listIds,n=t.listIdC,d=t.taskIdC;a({lists:e,tasks:s,listIds:i}),w(d),S(n)}),[]);var e=Object(i.useState)({lists:new Map,tasks:new Map,listIds:new Array}),s=Object(r.a)(e,2),n=s[0],a=s[1],d=Object(i.useState)(""),o=Object(r.a)(d,2),p=o[0],I=o[1],h=Object(i.useState)(""),x=Object(r.a)(h,2),k=x[0],g=x[1],m=Object(i.useState)(0),y=Object(r.a)(m,2),C=y[0],w=y[1],F=Object(i.useState)(0),L=Object(r.a)(F,2),T=L[0],S=L[1],E=Object(i.useState)(!1),M=Object(r.a)(E,2),A=M[0],P=M[1],D=Object(i.useState)(!1),B=Object(r.a)(D,2),R=B[0],z={setTaskId:I,taskF:function(t,e){var s=new Map(n.tasks),i=new Map(n.lists);if(e){var d;if(s.set(t.toString(),e),A)null===(d=i.get(k))||void 0===d||d.taskIds.push(t.toString()),w((function(t){return t+1}))}else{var c;s.delete(t);var l=null===(c=i.get(k))||void 0===c?void 0:c.taskIds;l.splice(l.indexOf(t),1)}a({tasks:s,lists:i,listIds:n.listIds})},setListId:g,setIsAdd:P,listF:function(t,e){var s=new Map(n.lists),i=Object(l.a)(n.listIds);e?(s.set(t,e),t==="l".concat(T)&&(i.push(t),S((function(t){return t+1})))):(s.delete(t),i.splice(i.indexOf(t),1)),a({tasks:n.tasks,lists:s,listIds:i})},setIsList:B[1]};return Object(j.jsx)("div",{children:Object(j.jsxs)(u,{value:Object(c.a)(Object(c.a)({},n),{},{taskIdC:C,listIdC:T}),children:[Object(j.jsx)(b.a,{onDragEnd:function(t){var e=t.destination,s=t.source,i=t.draggableId,d=t.type;if(e){if("column"===d){var c=Array.from(n.listIds);c.splice(s.index,1),c.splice(e.index,0,i),a({lists:n.lists,tasks:n.tasks,listIds:c})}if(e.droppableId===s.droppableId){if(e.index===s.index)return;var l=n.lists.get(s.droppableId);if(l){var r=Array.from(l.taskIds);r.splice(s.index,1),r.splice(e.index,0,i),n.lists.set(s.droppableId,{name:l.name,id:l.id,taskIds:r});var o=new Map(n.lists);a({lists:o,tasks:n.tasks,listIds:n.listIds})}}else{var u=n.lists.get(s.droppableId),b=n.lists.get(e.droppableId);if(u&&b){var j=Array.from(u.taskIds),p=Array.from(b.taskIds);j.splice(s.index,1),p.splice(e.index,0,i),n.lists.set(s.droppableId,{name:u.name,id:u.id,taskIds:j}),n.lists.set(e.droppableId,{name:b.name,id:b.id,taskIds:p});var v=new Map(n.lists);a({lists:v,tasks:n.tasks,listIds:n.listIds})}}}},children:Object(j.jsx)(b.c,{droppableId:"all",direction:"horizontal",type:"column",children:function(t){return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},t.droppableProps),{},{ref:t.innerRef,children:Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[n.listIds.map((function(t,e){return Object(j.jsx)(v,{id:t,index:e,setF:z},t)})),t.placeholder," ",Object(j.jsx)("input",{type:"image",src:"add.png",alt:"add button",style:{height:"1em",display:"block"},onClick:function(){z.setListId("l".concat(T)),z.setIsList(!0)}})]})}))}})}),""!==p&&Object(j.jsx)(f,{id:p,setF:z}),""!==k&&R&&Object(j.jsx)(O,{id:k,setF:z})]})})}var h=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(I,{boardId:"1"})})},x=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,28)).then((function(e){var s=e.getCLS,i=e.getFID,n=e.getFCP,a=e.getLCP,d=e.getTTFB;s(t),i(t),n(t),a(t),d(t)}))};d.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),x()}},[[27,1,2]]]);
//# sourceMappingURL=main.9651bbc6.chunk.js.map